/*!
 * Shred.js v1.0.0
 * Generate a custom share button plugin.
 * Author: @ish1r0k1
 * Licensed under the MIT license
 */
!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.Shred=e()}}(function(){var e,t,n;return function e(t,n,r){function o(a,s){if(!n[a]){if(!t[a]){var u="function"==typeof require&&require;if(!s&&u)return u(a,!0);if(i)return i(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[a]={exports:{}};t[a][0].call(c.exports,function(e){var n=t[a][1][e];return o(n?n:e)},c,c.exports,e,t,n,r)}return n[a].exports}for(var i="function"==typeof require&&require,a=0;a<r.length;a++)o(r[a]);return o}({1:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(){var e=navigator.userAgent.toLowerCase();return/android/.test(e)?"Android":/iphone|ipad|ipod/.test(e)?"iOS":/mac\sos\x|macintosh/.test(e)?"Mac OS":/windows/.test(e)?"Windows":"Unknown"}function i(e,t){var n=void 0;"string"==typeof e?n=e:"object"===("undefined"==typeof e?"undefined":u(e))&&(n=e.url+a(e.data));var r="jsonp_callback_"+Math.round(1e6*Math.random()),o=document.createElement("script");window[r]=function(e){try{delete window[r]}catch(e){window[r]=null}document.body.removeChild(o),t(e)},o.src=n+(n.indexOf("?")>=0?"&":"?")+("callback="+r),document.body.appendChild(o)}function a(e){var t="";for(var n in e)t+=(t.indexOf("?")>=0?"&":"?")+(n+"="+e[n]);return t}function s(e,t){if("object"===("undefined"==typeof t?"undefined":u(t)))for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}Object.defineProperty(n,"__esModule",{value:!0});var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c={twitter:{shareUrl:{iOS:"twitter://post?message={{text}} {{url}} {{hashtags}}",Web:"http://twitter.com/share?url={{url}}&text={{text}}&hashtags={{hashtags}}"},itmssUrl:"itmss://itunes.apple.com/jp/app/twitter/id333903271?mt=8"},facebook:{shareUrl:"http://www.facebook.com/sharer.php?u={{url}}",countApi:"https://graph.facebook.com/"},google_plus:{shareUrl:"https://plus.google.com/share?url={{url}}"},hatebu:{shareUrl:"https://b.hatena.ne.jp/add?url={{url}}",countApi:"http://api.b.st-hatena.com/entry.count"},line:{shareUrl:{Android:"intent://msg/text/{{text}} {{url}}/#Intent;scheme=line;package=jp.naver.line.android;end;",iOS:"line://msg/text/{{text}} {{url}}",Web:"http://line.naver.jp/R/msg/text/?{{text}}%20{{url}}"},itmssUrl:"itmss://itunes.apple.com/jp/app/line/id443904275?mt=8"},pocket:{shareUrl:"https://getpocket.com/edit?url={{url}}"}},f={text:document.title,url:location.href,hashtags:null,services:"twitter facebook google_plus",counts:!1},p=o(),h=function(){function e(t,n){return r(this,e),this.config=s(f,n),this.$parent="string"!=typeof t?t:document.querySelectorAll(t),"undefined"==typeof this.$parent.length&&(this.$parent=new Array(this.$parent)),this.generateButtons(),{test:function e(){return console.log("hi"),1}}}return l(e,[{key:"generateButtons",value:function e(){for(var t=this.config.services.split(" "),n=document.createDocumentFragment(),r=0,o=t.length;o>r;r++)n.appendChild(this.createButton(t[r]));for(var i=0,a=this.$parent.length;a>i;i++)this.$parent[i].appendChild(n)}},{key:"createButton",value:function e(t){if("undefined"!=typeof c[t]){var n=document.createElement("div"),r=document.createElement("a"),o=document.createElement("a"),i=void 0,a=void 0;return"object"!==u(c[t].shareUrl)?i=c[t].shareUrl:(a="iOS"===p?"iOS":"Web",i=c[t].shareUrl[a]),i=this.setValue(i),n.className="share-item share-item--"+t,r.className="share-btn",r.setAttribute("href",i),r.setAttribute("target","_blank"),r.innerText=this.prettifyServiceName(t),r.addEventListener("click",this.launchPopup),"iOS"===a&&"undefined"!=typeof c[t].itmssUrl&&r.addEventListener("click",function(){location.href=c[t].itmssUrl}),n.appendChild(r),this.config.counts&&"undefined"!=typeof c[t].countApi&&(this.setCount(o,t),o.className="share-count",o.innerText=0,n.appendChild(o)),n}}},{key:"setCount",value:function e(t,n){var r=void 0;r="facebook"!==n?{url:this.config.url}:{id:this.config.url},i({url:c[n].countApi,data:r},function(e){t.innerText=e.shares||("number"==typeof e?e:0)})}},{key:"setValue",value:function e(t){var n=this.convertHashtags(this.config.hashtags,"iOS"===p);return t.replace("{{text}}",encodeURIComponent(this.config.text)).replace("{{url}}",encodeURIComponent(this.config.url)).replace("{{hashtags}}",encodeURIComponent(n))}},{key:"prettifyServiceName",value:function e(t){for(var n="",r=t.split("_"),o=0,i=r.length;i>o;o++)o>=1&&(n+=" "),n+=r[o].charAt(0).toUpperCase()+r[o].slice(1);return n}},{key:"convertHashtags",value:function e(t,n){var r="";if(!t)return r;if(n)for(var o=this.config.hashtags.split(" "),i=0,a=o.length;a>i;i++)i>=1&&(r+=" "),r+="#"+o[i];else r=this.config.hashtags.replace(/\s/g,",");return r}},{key:"launchPopup",value:function e(t){t.preventDefault();var n=t.target.getAttribute("href");window.open(n,"","width=650, height=450, menubar=no, toolbar=no, scrollbars=yes")}}]),e}();n.default=h,t.exports=n.default},{}]},{},[1])(1)});